<!doctype html><html lang=en-us><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Noto+Serif|Source+Code+Pro"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>Projects | mosm.dev</title><link rel=canonical href=https://mosm.dev/projects/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://mosm.dev/projects/"><meta property="og:site_name" content="mosm.dev"><meta property="og:title" content="Projects"><meta property="og:description" content='Projects Low-level yagura A Unix-like operating system for x86.
GitHub
microcosm A minimal KVM-based virtual machine monitor.
GitHub
Bare-metal programs Programs written for bare-metal environments.
x86-bare-metal-raytracer: Ray Tracing in One Weekend on x86 bare-metal x86-bare-metal-donut: donut.c on x86 bare-metal Programming language implementations mochi Lua runtime implemented in Rust.
GitHub
1local function factorial(n) 2 if n == 0 then 3 return 1 4 else 5 return n * factorial(n - 1) 6 end 7end 8 9local n = tonumber(arg[1] or 10) 10print(n .. "! = " .. factorial(n)) $ mochi factorial.lua 12 12! = 479001600 Bytecode VM compatible with PUC-Rio Lua 5.4 Lexer and parser AST to bytecode compiler Incremental mark-and-sweep garbage collection Standard library implementation Databases squalodon An embedded relational database management system written from scratch.
GitHub'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta name=twitter:card content="summary"><meta name=twitter:title content="Projects"><meta name=twitter:description content='Projects Low-level yagura A Unix-like operating system for x86.
GitHub
microcosm A minimal KVM-based virtual machine monitor.
GitHub
Bare-metal programs Programs written for bare-metal environments.
x86-bare-metal-raytracer: Ray Tracing in One Weekend on x86 bare-metal x86-bare-metal-donut: donut.c on x86 bare-metal Programming language implementations mochi Lua runtime implemented in Rust.
GitHub
1local function factorial(n) 2 if n == 0 then 3 return 1 4 else 5 return n * factorial(n - 1) 6 end 7end 8 9local n = tonumber(arg[1] or 10) 10print(n .. "! = " .. factorial(n)) $ mochi factorial.lua 12 12! = 479001600 Bytecode VM compatible with PUC-Rio Lua 5.4 Lexer and parser AST to bytecode compiler Incremental mark-and-sweep garbage collection Standard library implementation Databases squalodon An embedded relational database management system written from scratch.
GitHub'><link rel=stylesheet href=https://mosm.dev/css/styles.9b6ba5048d95ea4e3aa63b4f9bcd7f051572d2c34afded12cf12677c60bbd58caeaa77f5789e235504d375e0cc39460074a50a07b60677d98e7eeb1af9e2d550.css integrity="sha512-m2ulBI2V6k46pjtPm81/BRVy0sNK/e0SzxJnfGC71Yyuqnf1eJ4jVQTTdeDMOUYAdKUKB7YGd9mOfusa+eLVUA=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://mosm.dev/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><header id=header><a href=https://mosm.dev/><div id=title><h1>mosm.dev</h1></div></a><div id=nav><ul><li><a href=/>Home</a></li><li><a href=/projects>Projects</a></li><li><a href=/misc>Misc</a></li></ul></div><div class=social-container><a class="social icon" target=_blank rel=noopener href=https://github.com/mosmeh aria-label=github><i class="fab fa-github" aria-hidden=true></i>
</a><a class="social icon" target=_blank rel=noopener href=https://twitter.com/mosmeh aria-label=twitter><i class="fab fa-twitter" aria-hidden=true></i>
</a><a class="social icon" target=_blank rel=noopener href=mailto:yuta.imazu@gmail.com aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></div></header><article class=post itemscope itemtype=http://schema.org/BlogPosting><div class=content itemprop=articleBody><h1 id=projects>Projects</h1><h2 id=low-level>Low-level</h2><h3 id=yagura>yagura</h3><p>A Unix-like operating system for x86.<br><a href=https://github.com/mosmeh/yagura target=_blank rel="noopener noreferrer">GitHub</a></p><p><img src=imgs/yagura.png alt></p><h3 id=microcosm>microcosm</h3><p>A minimal KVM-based virtual machine monitor.<br><a href=https://github.com/mosmeh/microcosm target=_blank rel="noopener noreferrer">GitHub</a></p><h3 id=bare-metal-programs>Bare-metal programs</h3><p>Programs written for bare-metal environments.</p><ul><li><a href=https://github.com/mosmeh/x86-bare-metal-raytracer target=_blank rel="noopener noreferrer">x86-bare-metal-raytracer</a>: <a href=https://raytracing.github.io/books/RayTracingInOneWeekend.html target=_blank rel="noopener noreferrer">Ray Tracing in One Weekend</a> on x86 bare-metal</li><li><a href=https://github.com/mosmeh/x86-bare-metal-donut target=_blank rel="noopener noreferrer">x86-bare-metal-donut</a>: <a href=https://www.a1k0n.net/2006/09/15/obfuscated-c-donut.html target=_blank rel="noopener noreferrer">donut.c</a> on x86 bare-metal</li></ul><h2 id=programming-language-implementations>Programming language implementations</h2><h3 id=mochi>mochi</h3><p>Lua runtime implemented in Rust.<br><a href=https://github.com/mosmeh/mochi target=_blank rel="noopener noreferrer">GitHub</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-lua data-lang=lua><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#66d9ef>local</span> <span style=color:#66d9ef>function</span> <span style=color:#a6e22e>factorial</span>(n)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    <span style=color:#66d9ef>if</span> n <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>        <span style=color:#66d9ef>return</span> n <span style=color:#f92672>*</span> factorial(n <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    <span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#66d9ef>end</span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span><span style=color:#66d9ef>local</span> n <span style=color:#f92672>=</span> tonumber(arg[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>or</span> <span style=color:#ae81ff>10</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>print(n <span style=color:#f92672>..</span> <span style=color:#e6db74>&#34;! = &#34;</span> <span style=color:#f92672>..</span> factorial(n))
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>$ mochi factorial.lua <span style=color:#ae81ff>12</span>
</span></span><span style=display:flex><span>12! <span style=color:#f92672>=</span> <span style=color:#ae81ff>479001600</span>
</span></span></code></pre></div><ul><li>Bytecode VM compatible with PUC-Rio Lua 5.4</li><li>Lexer and parser</li><li>AST to bytecode compiler</li><li>Incremental mark-and-sweep garbage collection</li><li>Standard library implementation</li></ul><h2 id=databases>Databases</h2><h3 id=squalodon>squalodon</h3><p>An embedded relational database management system written from scratch.<br><a href=https://github.com/mosmeh/squalodon target=_blank rel="noopener noreferrer">GitHub</a></p><ul><li>SQL parser</li><li>Planner</li><li>Execution engine</li><li>Join order optimization</li><li>Pluggable storage backends</li></ul><h3 id=qwerk>qwerk</h3><p>An embedded transactional key-value store.<br><a href=https://github.com/mosmeh/qwerk target=_blank rel="noopener noreferrer">GitHub</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#66d9ef>let</span> db <span style=color:#f92672>=</span> Database::open(<span style=color:#e6db74>&#34;db&#34;</span>)<span style=color:#f92672>?</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> worker <span style=color:#f92672>=</span> db.worker()<span style=color:#f92672>?</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span><span style=color:#66d9ef>let</span> <span style=color:#66d9ef>mut</span> txn <span style=color:#f92672>=</span> worker.transaction();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>txn.insert(<span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;key&#34;</span>, <span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;value&#34;</span>)<span style=color:#f92672>?</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span><span style=color:#a6e22e>assert_eq!</span>(txn.get(<span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;key&#34;</span>)<span style=color:#f92672>?</span>, Some(<span style=color:#e6db74>b</span><span style=color:#e6db74>&#34;value&#34;</span>.as_slice()));
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>txn.commit()<span style=color:#f92672>?</span>;
</span></span></code></pre></div><ul><li>ACID transactions with strict serializability</li><li>Optimized for multi-threaded workloads with multiple concurrent readers and writers</li><li>Persistence to the disk</li></ul><h3 id=zakros>zakros</h3><p>Redis-compatible in-memory database replicated with <a href=https://raft.github.io/ target=_blank rel="noopener noreferrer">Raft consensus algorithm</a>.<br><a href=https://github.com/mosmeh/zakros target=_blank rel="noopener noreferrer">GitHub</a></p><h3 id=zseqd>zseqd</h3><p>A distributed monotonically increasing sequence generator.<br><a href=https://github.com/mosmeh/zseqd target=_blank rel="noopener noreferrer">GitHub</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>&gt; INCR myseq
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>integer<span style=color:#f92672>)</span> <span style=color:#ae81ff>42</span>
</span></span><span style=display:flex><span>&gt; INCR myseq
</span></span><span style=display:flex><span><span style=color:#f92672>(</span>integer<span style=color:#f92672>)</span> <span style=color:#ae81ff>43</span>
</span></span></code></pre></div><h2 id=cli-tools>CLI tools</h2><h3 id=indexa>indexa</h3><p>A locate alternative with incremental search.<br><a href=https://github.com/mosmeh/indexa target=_blank rel="noopener noreferrer">GitHub</a></p><p><img src=imgs/indexa.png alt></p><p>Designed to utilize multiple CPU cores and minimize memory usage.<br>Inspired by <a href=https://www.voidtools.com/ target=_blank rel="noopener noreferrer">Everything</a>, which is another great file locator.</p><h2 id=audio-and-synthesizers>Audio and synthesizers</h2><h3 id=web-synthesizers-and-audio-effects>Web synthesizers and audio effects</h3><p>Various synthesizers and effects utilizing WebAudio <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioWorklet target=_blank rel="noopener noreferrer">AudioWorklet</a>.</p><p><img src=imgs/syndx.png alt></p><ul><li><a href=https://mosmeh.github.io/synks/ target=_blank rel="noopener noreferrer">synks</a>: Karplus-Strong string synthesizer</li><li><a href=https://mosmeh.github.io/synxylo/ target=_blank rel="noopener noreferrer">synxylo</a>: Physical modeling xylophone synthesizer</li><li><a href=https://mosmeh.github.io/syndx/ target=_blank rel="noopener noreferrer">syndx</a>: FM synthesizer for electric piano sound</li><li><a href=https://mosmeh.github.io/syntw/ target=_blank rel="noopener noreferrer">syntw</a>: Tonewheel organ sound synthesizer</li><li><a href=https://mosmeh.github.io/phaker/ target=_blank rel="noopener noreferrer">phaker</a>: Physically-based shaker sound synthesizer</li><li><a href=https://mosmeh.github.io/forma/ target=_blank rel="noopener noreferrer">forma</a>: Formant filter</li><li><a href=https://mosmeh.github.io/web-channel-eq/ target=_blank rel="noopener noreferrer">web-channel-eq</a>: Ableton Live&rsquo;s Channel EQ</li></ul><h3 id=accent>accent</h3><p>Implementation of audio reverberation algorithms.<br><a href=https://github.com/mosmeh/accent target=_blank rel="noopener noreferrer">GitHub</a></p><h3 id=synth-playground>Synth Playground</h3><p>Web playground to play with WebAudio <a href=https://developer.mozilla.org/en-US/docs/Web/API/AudioWorklet target=_blank rel="noopener noreferrer">AudioWorklet</a>.<br><a href=https://mosmeh.github.io/synth-playground/ target=_blank rel="noopener noreferrer">Try online</a>
<a href=https://github.com/mosmeh/synth-playground target=_blank rel="noopener noreferrer">GitHub</a></p><p><img src=imgs/synth-playground.png alt></p><h3 id=primesynth>primesynth</h3><p>SoundFont-powered MIDI synthesizer.<br><a href=https://github.com/mosmeh/primesynth target=_blank rel="noopener noreferrer">GitHub</a></p><h2 id=web>Web</h2><h3 id=witchbooru>Witchbooru</h3><p><img src=imgs/witchbooru.png alt></p><p><a href=https://mosmeh.github.io/witchbooru/ target=_blank rel="noopener noreferrer">Try online</a></p><p>Image recognition system for anime characters.<br>Trained with <a href=https://danbooru.donmai.us/ target=_blank rel="noopener noreferrer">Danbooru</a> data and built on top of <a href=https://github.com/KichangKim/DeepDanbooru target=_blank rel="noopener noreferrer">DeepDanbooru</a> model.<br>Deployed as an AWS Lambda function.</p><h3 id=beek>beek</h3><p>A modern REPL-style calculator.<br><a href=https://github.com/mosmeh/beek target=_blank rel="noopener noreferrer">GitHub</a></p><p><img src=imgs/beek.png alt></p><p><a href=https://mosmeh.github.io/beek/ target=_blank rel="noopener noreferrer">Web version</a> is built with WebAssembly.</p><h3 id=web-services-accessible-from-terminal>Web services accessible from terminal</h3><p>Web apps you can use via curl, wget, etc.</p><p><img src=imgs/uclock.png alt></p><ul><li><a href=https://github.com/mosmeh/twch target=_blank rel="noopener noreferrer">twch</a>: Twitch chat viewer</li><li><a href=https://github.com/mosmeh/uclock target=_blank rel="noopener noreferrer">uclock</a>: Unix time clock</li></ul><h2 id=games>Games</h2><h3 id=tui-games>TUI games</h3><p>Games in text user interface.</p><p><img src=imgs/yachtee.png alt></p><ul><li><a href=https://github.com/mosmeh/fifteen target=_blank rel="noopener noreferrer">fifteen</a>: The 15-puzzle</li><li><a href=https://github.com/mosmeh/codebreaker target=_blank rel="noopener noreferrer">codebreaker</a>: Mastermind</li><li><a href=https://github.com/mosmeh/yachtee target=_blank rel="noopener noreferrer">yachtee</a>: Yahtzee</li></ul><h3 id=mahjongg>mahjongg</h3><p>Mahjong solitaire game (aka Shanghai) compatible with <a href=https://wiki.gnome.org/Apps/Mahjongg target=_blank rel="noopener noreferrer">GNOME Mahjongg</a> and <a href=https://games.kde.org/games/kmahjongg/ target=_blank rel="noopener noreferrer">KMahjongg</a>.<br><a href=https://github.com/mosmeh/mahjongg target=_blank rel="noopener noreferrer">GitHub</a></p><p><img src=imgs/mahjongg.png alt></p><h3 id=mckalah>mckalah</h3><p>Monte Carlo tree search player for <a href=https://en.wikipedia.org/wiki/Kalah target=_blank rel="noopener noreferrer">Kalah</a>.<br><a href=https://github.com/mosmeh/mckalah target=_blank rel="noopener noreferrer">GitHub</a></p><h2 id=text-processing>Text processing</h2><h3 id=suffine>suffine</h3><p>Suffix array construction tool/library for huge strings.<br><a href=https://github.com/mosmeh/suffine target=_blank rel="noopener noreferrer">GitHub</a></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-rust data-lang=rust><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#66d9ef>let</span> text <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;I scream, you scream, we all scream for ice cream!&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#66d9ef>let</span> index <span style=color:#f92672>=</span> IndexBuilder::new(text)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>    .block_size(<span style=color:#ae81ff>1024</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>1024</span>)
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span>    .build()
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>    .unwrap();
</span></span><span style=display:flex><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span><span style=color:#a6e22e>assert_eq!</span>(index.positions(<span style=color:#e6db74>&#34;cream&#34;</span>), <span style=color:#f92672>&amp;</span>[<span style=color:#ae81ff>30</span>, <span style=color:#ae81ff>44</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>3</span>]);
</span></span></code></pre></div></div></article><footer id=footer><div class=footer-left>Copyright &copy; 2025 mosm.dev</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/projects>Projects</a></li><li><a href=/misc>Misc</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script></html>